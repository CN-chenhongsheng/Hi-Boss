# å®¿èˆç®¡ç†å°ç¨‹åº

åŸºäº UniApp + Vue 3 + TypeScript å¼€å‘çš„å®¿èˆç®¡ç†å¾®ä¿¡å°ç¨‹åºï¼Œæ”¯æŒå…¥ä½ç”³è¯·ã€è°ƒå®¿ç”³è¯·ã€é€€å®¿ç”³è¯·ã€ç•™å®¿ç”³è¯·ç­‰æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **å…¥ä½ç®¡ç†**ï¼šæ”¯æŒé•¿æœŸ/ä¸´æ—¶å…¥ä½ç”³è¯·ï¼ŒåºŠä½åˆ†é…
- **è°ƒå®¿ç®¡ç†**ï¼šå®¿èˆè°ƒæ¢ç”³è¯·ï¼Œç›®æ ‡åºŠä½é€‰æ‹©
- **é€€å®¿ç®¡ç†**ï¼šé€€å®¿ç”³è¯·ï¼Œé€€å®¿æ—¥æœŸé€‰æ‹©
- **ç•™å®¿ç®¡ç†**ï¼šå‡æœŸç•™å®¿ç”³è¯·ï¼Œæ—¶é—´æ®µé€‰æ‹©
- **å®¡æ‰¹æµç¨‹**ï¼šå®Œæ•´çš„ç”³è¯·-å®¡æ‰¹-å®Œæˆæµç¨‹
- **æ•°æ®ç»Ÿè®¡**ï¼šå¯è§†åŒ–å›¾è¡¨å±•ç¤ºï¼ˆé¥¼å›¾ã€æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ï¼‰

### è¾…åŠ©åŠŸèƒ½

- **æŠ¥ä¿®ç®¡ç†**ï¼šè®¾å¤‡æŠ¥ä¿®ï¼Œå›¾ç‰‡ä¸Šä¼ 
- **é€šçŸ¥å…¬å‘Š**ï¼šç³»ç»Ÿé€šçŸ¥ï¼Œå…¬å‘Šå‘å¸ƒ
- **æ¶ˆæ¯ä¸­å¿ƒ**ï¼šæœªè¯»æ¶ˆæ¯æé†’
- **ä¸ªäººä¸­å¿ƒ**ï¼šç”¨æˆ·ä¿¡æ¯ï¼Œå®¿èˆä¿¡æ¯

### è§’è‰²æƒé™

- **å­¦ç”Ÿ**ï¼šæäº¤ç”³è¯·ï¼ŒæŸ¥çœ‹è®°å½•ï¼ŒæŠ¥ä¿®
- **å®¿ç®¡å‘˜**ï¼šå®¡æ‰¹ç”³è¯·ï¼Œå‘å¸ƒå…¬å‘Šï¼Œå¤„ç†æŠ¥ä¿®
- **ç®¡ç†å‘˜**ï¼šæ‰€æœ‰æƒé™ + æ•°æ®ç»Ÿè®¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: UniApp + Vue 3 + TypeScript
- **UI ç»„ä»¶**: UView Plus
- **åˆ†é¡µç»„ä»¶**: z-paging
- **å›¾è¡¨åº“**: uCharts (@qiun/ucharts)
- **çŠ¶æ€ç®¡ç†**: Pinia + pinia-plugin-persistedstate
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **åŒ…ç®¡ç†**: pnpm

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd miniprogram

# å®‰è£…ä¾èµ–
pnpm install
```

## ğŸš€ è¿è¡Œé¡¹ç›®

### å¼€å‘æ¨¡å¼

```bash
# å¾®ä¿¡å°ç¨‹åº
pnpm run dev:mp-weixin

# H5
pnpm run dev:h5
```

### ç”Ÿäº§æ„å»º

```bash
# å¾®ä¿¡å°ç¨‹åº
pnpm run build:mp-weixin

# H5
pnpm run build:h5
```

### ä»£ç æ£€æŸ¥

```bash
# ESLint æ£€æŸ¥
pnpm run lint

# ESLint è‡ªåŠ¨ä¿®å¤
pnpm run eslint
```

## ğŸ“± å¾®ä¿¡å¼€å‘è€…å·¥å…·

1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. å¯¼å…¥é¡¹ç›®ï¼Œé€‰æ‹© `dist/dev/mp-weixin` ç›®å½•
3. å¡«å…¥ AppIDï¼ˆæˆ–ä½¿ç”¨æµ‹è¯•å·ï¼‰
4. å¼€å§‹è°ƒè¯•

## ğŸ¯ Mock æ¨¡å¼

é¡¹ç›®å†…ç½® Mock æ•°æ®ï¼Œæ— éœ€åç«¯å³å¯è¿è¡Œï¼š

### å¯ç”¨ Mock æ¨¡å¼

åœ¨ `src/mock/index.ts` ä¸­ï¼š

```typescript
export const USE_MOCK = true // è®¾ç½®ä¸º true å¯ç”¨ Mock
```

### Mock ç”¨æˆ·

ç™»å½•é¡µå¯é€‰æ‹©ä¸‰ç§è§’è‰²ï¼š

1. **å­¦ç”Ÿ** - å¼ ä¸‰ (å­¦å·: 2024001)
2. **å®¿ç®¡å‘˜** - æå››
3. **ç®¡ç†å‘˜** - ç‹äº”

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
miniprogram/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # API æ¥å£
â”‚   â”‚   â”œâ”€â”€ accommodation/      # ä½å®¿ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ service/            # æœåŠ¡ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯ API
â”‚   â”‚   â”œâ”€â”€ user.ts             # ç”¨æˆ· API
â”‚   â”‚   â”œâ”€â”€ statistics.ts       # ç»Ÿè®¡ API
â”‚   â”‚   â””â”€â”€ index.ts            # API å¯¼å‡º
â”‚   â”œâ”€â”€ components/             # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/                  # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ mock/                   # Mock æ•°æ®
â”‚   â”‚   â”œâ”€â”€ user.ts             # ç”¨æˆ· Mock
â”‚   â”‚   â””â”€â”€ index.ts            # Mock é…ç½®
â”‚   â”œâ”€â”€ pages/                  # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ tab/                # TabBar é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ home/           # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ apply/          # ç”³è¯·ä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ statistics/     # æ•°æ®ç»Ÿè®¡
â”‚   â”‚   â”‚   â”œâ”€â”€ message/        # æ¶ˆæ¯ä¸­å¿ƒ
â”‚   â”‚   â”‚   â””â”€â”€ profile/        # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ apply/              # ç”³è¯·ç›¸å…³é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ check-in/       # å…¥ä½ç”³è¯·
â”‚   â”‚   â”‚   â”œâ”€â”€ transfer/       # è°ƒå®¿ç”³è¯·
â”‚   â”‚   â”‚   â”œâ”€â”€ check-out/      # é€€å®¿ç”³è¯·
â”‚   â”‚   â”‚   â”œâ”€â”€ stay/           # ç•™å®¿ç”³è¯·
â”‚   â”‚   â”‚   â””â”€â”€ detail/         # ç”³è¯·è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ admin/              # ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ approval-detail/ # å®¡æ‰¹è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ service/            # æœåŠ¡é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ repair/         # æŠ¥ä¿®ç”³è¯·
â”‚   â”‚   â”‚   â””â”€â”€ notice-detail/  # å…¬å‘Šè¯¦æƒ…
â”‚   â”‚   â””â”€â”€ common/             # å…¬å…±é¡µé¢
â”‚   â”‚       â”œâ”€â”€ login/          # ç™»å½•é¡µ
â”‚   â”‚       â””â”€â”€ dorm-info/      # å®¿èˆä¿¡æ¯
â”‚   â”œâ”€â”€ store/                  # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”‚   â”œâ”€â”€ app/            # åº”ç”¨çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ user/           # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ types/                  # TypeScript ç±»å‹
â”‚   â”‚   â”œâ”€â”€ api/                # API ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ common.ts       # é€šç”¨ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts         # ç”¨æˆ·ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ check-in.ts     # å…¥ä½ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ transfer.ts     # è°ƒå®¿ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ check-out.ts    # é€€å®¿ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ stay.ts         # ç•™å®¿ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ repair.ts       # æŠ¥ä¿®ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ notice.ts       # å…¬å‘Šç±»å‹
â”‚   â”‚   â”‚   â””â”€â”€ statistics.ts   # ç»Ÿè®¡ç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request/            # è¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ auth/               # è®¤è¯å·¥å…·
â”‚   â”œâ”€â”€ App.vue                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ main.ts                 # ä¸»å…¥å£
â”‚   â”œâ”€â”€ manifest.json           # åº”ç”¨é…ç½®
â”‚   â””â”€â”€ pages.json              # é¡µé¢é…ç½®
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ .eslintrc.js
â”œâ”€â”€ .prettierrc.js
â””â”€â”€ README.md
```

## ğŸ”Œ åç«¯å¯¹æ¥

### 1. å…³é—­ Mock æ¨¡å¼

åœ¨ `src/mock/index.ts` ä¸­ï¼š

```typescript
export const USE_MOCK = false
```

### 2. é…ç½® API åŸºç¡€åœ°å€

åœ¨ `src/utils/request/index.ts` ä¸­ï¼š

```typescript
const baseURL = 'https://your-api-domain.com'
```

### 3. API è¿”å›ç»“æ„

æ‰€æœ‰ç±»å‹å®šä¹‰å·²ä¸åç«¯å¯¹é½ï¼š

**é€šç”¨å“åº”** (`R<T>`):
```typescript
{
  code: number        // 200 æˆåŠŸï¼Œå…¶ä»–å¤±è´¥
  message: string     // æç¤ºä¿¡æ¯
  data: T             // è¿”å›æ•°æ®
  timestamp: number   // æ—¶é—´æˆ³
}
```

**åˆ†é¡µå“åº”** (`PageResult<T>`):
```typescript
{
  list: T[]           // æ•°æ®åˆ—è¡¨
  total: number       // æ€»è®°å½•æ•°
  pageNum: number     // å½“å‰é¡µç 
  pageSize: number    // æ¯é¡µæ¡æ•°
  totalPages: number  // æ€»é¡µæ•°
}
```

## ğŸ“Š æ•°æ®ç»Ÿè®¡

ä½¿ç”¨ uCharts å®ç°æ•°æ®å¯è§†åŒ–ï¼š

- **é¥¼å›¾**ï¼šç”³è¯·ç±»å‹åˆ†å¸ƒ
- **æŠ˜çº¿å›¾**ï¼šç”³è¯·è¶‹åŠ¿åˆ†æ
- **æŸ±çŠ¶å›¾**ï¼šå®¡æ‰¹çŠ¶æ€ç»Ÿè®¡

æ”¯æŒæ—¶é—´èŒƒå›´ç­›é€‰ï¼šæœ¬å‘¨ã€æœ¬æœˆã€æœ¬å¹´

## ğŸ¨ UI è®¾è®¡

- **ä¸»é¢˜è‰²**ï¼š#0adbc3ï¼ˆé’ç»¿è‰²ï¼‰ã€#ff8c42ï¼ˆæ©™è‰²å¼ºè°ƒï¼‰
- **è®¾è®¡é£æ ¼**ï¼šæ¯›ç»ç’ƒé£æ ¼ï¼ˆGlass Morphismï¼‰ï¼Œå¡ç‰‡å¼å¸ƒå±€
- **å“åº”å¼**ï¼šé€‚é…ä¸åŒå°ºå¯¸ç§»åŠ¨è®¾å¤‡
- **å¯¼èˆªæ **ï¼šè‡ªå®šä¹‰å¯¼èˆªæ ï¼Œæ˜¾ç¤ºæ—¥æœŸå’Œé—®å€™è¯­
- **èƒŒæ™¯è‰²**ï¼šæµ…è“ç°è‰²ï¼ˆ#F0F4F8ï¼‰+ è£…é¥°çƒåŠ¨æ•ˆ
- **å›¾æ ‡ç³»ç»Ÿ**ï¼šUView Plus å†…ç½®å›¾æ ‡

## ğŸ“ å¼€å‘è§„èŒƒ

### å‘½åè§„èŒƒ

- **æ–‡ä»¶å**ï¼škebab-caseï¼ˆå¦‚ï¼š`check-in.ts`ï¼‰
- **ç»„ä»¶å**ï¼šPascalCaseï¼ˆå¦‚ï¼š`UserCard`ï¼‰
- **å˜é‡/å‡½æ•°**ï¼šcamelCaseï¼ˆå¦‚ï¼š`getUserInfo`ï¼‰
- **å¸¸é‡**ï¼šUPPER_SNAKE_CASEï¼ˆå¦‚ï¼š`API_BASE_URL`ï¼‰

### ä»£ç é£æ ¼

- ä½¿ç”¨ ESLint + Prettier è‡ªåŠ¨æ ¼å¼åŒ–
- å•å¼•å·ï¼Œæ— åˆ†å·
- 2 ç©ºæ ¼ç¼©è¿›
- å°¾éšé€—å·

### ç±»å‹å®šä¹‰

- æ‰€æœ‰ API å¿…é¡»å®šä¹‰ç±»å‹
- ç»„ä»¶ props å¿…é¡»å®šä¹‰ç±»å‹
- é¿å…ä½¿ç”¨ `any`

## ğŸ”’ æƒé™æ§åˆ¶

### è§’è‰²å®šä¹‰

```typescript
enum UserRole {
  STUDENT = 'student',        // å­¦ç”Ÿ
  DORM_MANAGER = 'dorm_manager', // å®¿ç®¡å‘˜
  ADMIN = 'admin'             // ç®¡ç†å‘˜
}
```

### æƒé™åˆ¤æ–­

```typescript
import useUserStore from '@/store/modules/user'

const userStore = useUserStore()

// åˆ¤æ–­è§’è‰²
if (userStore.isStudent) { /* å­¦ç”Ÿ */ }
if (userStore.isDormManager) { /* å®¿ç®¡å‘˜ */ }
if (userStore.isAdmin) { /* ç®¡ç†å‘˜ */ }

// åˆ¤æ–­ç®¡ç†æƒé™
if (userStore.hasManagePermission) { /* æœ‰ç®¡ç†æƒé™ */ }
```

### åŠ¨æ€ TabBar

æ ¹æ®è§’è‰²è‡ªåŠ¨åˆ‡æ¢ TabBarï¼š

- **å­¦ç”Ÿ**ï¼šé¦–é¡µã€ç”³è¯·ã€æ¶ˆæ¯ã€æˆ‘çš„
- **ç®¡ç†å‘˜**ï¼šé¦–é¡µã€ç”³è¯·ã€ç»Ÿè®¡ã€æ¶ˆæ¯ã€æˆ‘çš„

## ğŸ› è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹ Mock æ•°æ®

åœ¨æ§åˆ¶å°æŸ¥çœ‹ API è°ƒç”¨ï¼š

```typescript
console.log('API Response:', response)
```

### åˆ‡æ¢è§’è‰²æµ‹è¯•

åœ¨ç™»å½•é¡µé€‰æ‹©ä¸åŒè§’è‰²ï¼Œæµ‹è¯•ä¸åŒæƒé™åŠŸèƒ½ã€‚

### æŸ¥çœ‹çŠ¶æ€

```typescript
import useUserStore from '@/store/modules/user'

const userStore = useUserStore()
console.log('User Info:', userStore.userInfo)
console.log('Is Logged In:', userStore.isLoggedIn)
```

## ğŸ“„ ç›¸å…³æ–‡æ¡£

- [UniApp å®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/)
- [Vue 3 æ–‡æ¡£](https://cn.vuejs.org/)
- [UView Plus æ–‡æ¡£](https://uviewui.com/)
- [uCharts æ–‡æ¡£](https://www.ucharts.cn/)
- [Pinia æ–‡æ¡£](https://pinia.vuejs.org/zh/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚

---

**å¼€å‘çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å¼€å‘å®Œæˆ
**æœ€åæ›´æ–°**: 2025-01-07
